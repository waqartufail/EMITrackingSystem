<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
	<link href="css/inventory.css" rel="stylesheet">
</head>
<body>
    <div class="sidebar">
        <div>
            <div class="logo">Inventory</div>
            <a href="dashboard.html"><i class="fas fa-tachometer-alt"></i> <span class="menu-item">Dashboard</span></a>
            <a href="#" class="active"><i class="fas fa-box"></i> <span class="menu-item">Inventory</span></a>
            <a href="categories.html"><i class="fas fa-tags"></i> <span class="menu-item">Categories</span></a>
            <a href="cart.html"><i class="fas fa-shopping-cart"></i> <span class="menu-item">Cart</span></a>
            <a href="payment.html"><i class="fas fa-chart-line"></i> <span class="menu-item">Sales</span></a>
            <a href="profile.html"><i class="fas fa-user"></i> <span class="menu-item">Profile</span></a>
        </div>
        <div>
            <a href="inventory.html"><i class="fas fa-plus"></i> <span class="menu-item">Add Item</span></a>
            <a href="thankyou.html"><i class="fas fa-sign-out-alt"></i> <span class="menu-item">Sign Out</span></a>
        </div>
    </div>
    <div class="main-content">
        <div class="header">
            <a href="dashboard.html" class="back-button"><i class="fas fa-arrow-left"></i></a>
            <div class="search-bar">
                <input type="text" id="product-name" placeholder="Search inventory">
            </div>
            <div class="user-info">
                <button class="btn btn-primary-custom btn-custom" data-toggle="modal" data-target="#addProductModal">Add New Product</button>
                <i class="fas fa-bell"></i>
                <i class="fas fa-envelope"></i>
                <img src="https://via.placeholder.com/40" alt="User">
            </div>
        </div>
        <div class="content">
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header">Inventory Details</div>
                        <div class="card-content">
                            <div>
                                <h3>Total Products</h3>
                                <p>150</p>
                            </div>
                            <div>
                                <h3>Low Stock Items</h3>
                                <p>20</p>
                            </div>
                        </div>
                        <!-- Filters Section -->
                        <div class="filters mt-3">
                            <div class="form-row">
                                <div class="form-group col-md-4">
                                    <label for="category">Category:</label>
                                    <select id="category" class="form-control">
                                        <option value="">Select a category</option>
                                        <option value="Category A">Category A</option>
                                        <option value="Category B">Category B</option>
                                        <option value="Category C">Category C</option>
                                    </select>
                                </div>
                                <div class="form-group col-md-4">
                                    <label for="min-stock">Min Stock:</label>
                                    <input type="number" id="min-stock" class="form-control" placeholder="Min stock">
                                </div>
                                <div class="form-group col-md-4">
                                    <label for="max-stock">Max Stock:</label>
                                    <input type="number" id="max-stock" class="form-control" placeholder="Max stock">
                                </div>
                            </div>
                            <div class="form-group">
                                <button class="btn btn-primary-custom btn-custom">Filter</button>
                                <button class="btn btn-secondary-custom btn-custom">Reset</button>
                                <button class="btn btn-primary-custom btn-custom float-right">Export Report</button>
                            </div>
                        </div>
                        <!-- Inventory Table -->
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Product Name</th>
                                        <th>Category</th>
                                        <th>Stock</th>
                                        <th>Price</th>
                                        <th>Supplier</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="product-row">
                                        <td class="product-name">Sample Product</td>
                                        <td class="product-category">Category A</td>
                                        <td class="product-stock">100</td>
                                        <td class="product-price">$20.00</td>
                                        <td class="product-supplier">Supplier A</td>
                                        <td>
                                            <button class="btn btn-primary btn-edit">Edit</button>
                                            <button class="btn btn-danger btn-delete">Delete</button>
                                        </td>
                                    </tr>
                                    <!-- Additional rows can be added dynamically -->
                                </tbody>
                            </table>
                        </div>
                        <div class="table-footer">
                            <span>Showing 1 to 10 of 150 entries</span>
                            <ul class="pagination">
                                <li class="page-item"><a class="page-link" href="#">Previous</a></li>
                                <li class="page-item"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item"><a class="page-link" href="#">Next</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div class="modal fade" id="addProductModal" tabindex="-1" aria-labelledby="addProductModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addProductModalLabel">Add New Product</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="addProductForm">
                        <div class="form-group">
                            <label for="add-product-name">Product Name</label>
                            <input type="text" class="form-control" id="add-product-name" required>
                        </div>
                        <div class="form-group">
                            <label for="add-category">Category</label>
                            <select id="add-category" class="form-control" required>
                                <option value="">Select a category</option>
                                <option value="Category A">Category A</option>
                                <option value="Category B">Category B</option>
                                <option value="Category C">Category C</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="add-stock">Stock</label>
                            <input type="number" class="form-control" id="add-stock" required>
                        </div>
                        <div class="form-group">
                            <label for="add-price">Price</label>
                            <input type="number" step="0.01" class="form-control" id="add-price" required>
                        </div>
                        <div class="form-group">
                            <label for="add-supplier">Supplier</label>
                            <input type="text" class="form-control" id="add-supplier" required>
                        </div>
                        <div class="form-group text-right">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Add Product</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Product Modal -->
    <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">Edit Product</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="editForm">
                        <div class="form-group">
                            <label for="edit-product-name">Product Name</label>
                            <input type="text" class="form-control" id="edit-product-name" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-category">Category</label>
                            <select id="edit-category" class="form-control" required>
                                <option value="">Select a category</option>
                                <option value="Category A">Category A</option>
                                <option value="Category B">Category B</option>
                                <option value="Category C">Category C</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="edit-stock">Stock</label>
                            <input type="number" class="form-control" id="edit-stock" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-price">Price</label>
                            <input type="number" step="0.01" class="form-control" id="edit-price" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-supplier">Supplier</label>
                            <input type="text" class="form-control" id="edit-supplier" required>
                        </div>
                        <div class="form-group text-right">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Save Changes</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script>
        $(function() {
            // Show Add Product Modal
            $(".btn-primary-custom").on("click", function() {
                $("#addProductModal").modal("show");
            });

            // Handle Add Product Form submission
            $("#addProductForm").on("submit", function(event) {
                event.preventDefault();

                var productName = $("#add-product-name").val();
                var category = $("#add-category").val();
                var stock = $("#add-stock").val();
                var price = $("#add-price").val();
                var supplier = $("#add-supplier").val();

                // Add a new row to the products table
                $(".table tbody").append(`
                    <tr class="product-row">
                        <td class="product-name">${productName}</td>
                        <td class="product-category">${category}</td>
                        <td class="product-stock">${stock}</td>
                        <td class="product-price">$${price}</td>
                        <td class="product-supplier">${supplier}</td>
                        <td>
                            <button class="btn btn-primary btn-edit">Edit</button>
                            <button class="btn btn-danger btn-delete">Delete</button>
                        </td>
                    </tr>
                `);

                // Hide the modal
                $("#addProductModal").modal("hide");

                // Clear the form fields
                $("#addProductForm")[0].reset();
            });

            // Edit button click event
            $(document).on("click", ".btn-edit", function() {
                var row = $(this).closest("tr");
                var productName = row.find(".product-name").text();
                var category = row.find(".product-category").text();
                var stock = row.find(".product-stock").text();
                var price = row.find(".product-price").text();
                var supplier = row.find(".product-supplier").text();

                // Populate the edit form with existing data
                $("#edit-product-name").val(productName);
                $("#edit-category").val(category);
                $("#edit-stock").val(stock);
                $("#edit-price").val(price.replace('$', ''));
                $("#edit-supplier").val(supplier);

                // Show the modal
                $("#editModal").modal("show");

                // Handle form submission for editing
                $("#editForm").off("submit").on("submit", function(event) {
                    event.preventDefault();

                    // Update the row with new data
                    row.find(".product-name").text($("#edit-product-name").val());
                    row.find(".product-category").text($("#edit-category").val());
                    row.find(".product-stock").text($("#edit-stock").val());
                    row.find(".product-price").text('$' + $("#edit-price").val());
                    row.find(".product-supplier").text($("#edit-supplier").val());

                    // Hide the modal
                    $("#editModal").modal("hide");
                });
            });

            // Delete button click event
            $(document).on("click", ".btn-delete", function() {
                if (confirm("Are you sure you want to delete this product?")) {
                    $(this).closest("tr").remove();
                }
            });
        });
    </script>
</body>
</html>
